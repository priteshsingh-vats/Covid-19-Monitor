<%- include('partials/header.ejs'); -%>
<div id="mySidebar" class="sidebar col-find">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
    <h5 style="color: aqua; padding: 5px;">Do's</h5>
    <ol class="precautions">
        <li>Practice frequent hand washing. Wash hands with soap and water or use alcohol based hand rub.</li>
        <li>Cover your nose and mouth with handkerchief / tissue while sneezing and coughing.</li>
    </ol>
    <h5 style="color: aqua; padding: 5px;">Dont's</h5>
    <ol class="precautions">
        <li>Have a close contact with anyone, if you're experiencing cough and fever.</li>
        <li>Touch your eyes, nose and mouth.</li>
    </ol>
</div>

<div id="main" class="col-find">
    <button class="openbtn" onclick="openNav()">☰ Precautions</button>
</div>

<button class="btn btn-danger" type="button" disabled>
    <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
    Live Updates
</button>
<br /><br />


<div class="row  animated animatedFadeInUp fadeInUp col-find">
    <div class="col-lg-6 col-md-12">
        <div class="card" style="border: 0px;">
            <div class="card-body india-case">
                <button style="width: 300px;" class=" butn btn btn-warning btn-block btn-lg">
                    <h5> Confirmed cases: <span class="badge badge-light"><%=p.statewise[0].confirmed %></span>
                    </h5>
                </button>
                <button style="width: 300px;" class=" butn btn btn-primary btn-block btn-lg">
                    <h5> Active cases: <span class="badge badge-light"><%= p.statewise[0].active %></span></h5>
                </button>
                <button style="width: 300px;" class=" butn btn btn-danger btn-block btn-lg">
                    <h5> Deaths cases: <span class="badge badge-light"><%= p.statewise[0].deaths %></span></h5>
                </button>
                <button style="width: 300px;" class=" butn btn btn-info btn-block btn-lg">
                    <h5> Recovered cases: <span class="badge badge-light"><%= p.statewise[0].recovered %></span>
                    </h5>
                </button>
                <button style="width: 300px;" class=" butn btn btn-secondary btn-block btn-lg">
                    <h5> Migrated cases: <span class="badge badge-light">1</span></h5>
                </button>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-md-12 col-find" style="padding-top:15;">
        <div class="card" style="border: 0px;">
            <div class="card-body" style="padding-left: 25;width: 75%; text-align: justify;">
                <h5 class="card-title">Donate to PMNRF</h5>
                <p class="card-text">Prime Minister's National Relief Fund (PMNRF) was established entirely with
                    public contributions and does not get any budgetary support.</p>
                <a href="https://pmnrf.gov.in/en/online-donation" target=_blank"" class="btn btn-primary">Donate</a>
            </div>
        </div>
    </div>
</div>
<br>
<div class="container1 col-find animated animatedFadeInUp fadeInUp">
    <div class="box">
        <canvas id="myChart"></canvas>
    </div>
    <div class="box">
        <canvas id="myChart1"></canvas>
    </div>
    <div class="box">
        <canvas id="myChart2"></canvas>
    </div>
</div>
<!-- <div class="marquee animated animatedFadeInUp fadeInUp">
        <p style="color: black;"> <strong><span class="badge badge-danger prec">PLEASE NOTE:</span></strong> <span class="badge badge-light">Don't go out much only one person from each family should take responsibility to go out and bring household materials.</span> <strong>||</strong> 
            <span class="badge badge-light prec">The person who goes out should wear a full arm shirt and shoes</span> <strong>||</strong> 
            <span class="badge badge-light prec">As soon as you enter home please keep your shoes outside don't wear the same inside the house. Immediately change your dress don't sit any where wearing the same dress. Take bath preferably head bath with soap.</span> <strong>||</strong> 
            <span class="badge badge-light prec">People more than 60 - diabetic, heart or kidney disease patient should not go out.</span> <strong>|</strong> 
            <span class="badge badge-light prec">Wash hand frequently with water and soap.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Don't touch your eyes nose with hands.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Wash all packed good items and vegetables thoroughly with water.</span> <strong>|</strong> 
            <span class="badge badge-light prec">Don't gather much people in a room.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Keep distance from elderly.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Don't play outdoor games.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Don't play games involving more than 3 to 4 people at a time.</span> <strong>||</strong> 
            <span class="badge badge-light prec">If anybody has fever cough then he or she should stay away from others.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Don't allow maids to come.</span> <strong>||</strong> 
            <span class="badge badge-light prec">Eat healthy food avoid fried and junk foods bcoz you if you get I'll then need to go to doctor and going to doctor at this time chance of infection very high as doctor comes with contact with many others.</span> <strong>||</strong>
        </p>
    </div> -->
<script>
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: <%-JSON.stringify(labels); %> ,
        datasets: [{
            label: 'Total Cases of Corona',
            backgroundColor: "red",
            borderColor: "white",
            data: <%-JSON.stringify(data); %> ,
            }]
        },
    options: {
        responsive: true,
            maintainAspectRatio: false,
                scales: {
            xAxes: [{
                gridLines: {
                    display: false
                }
            }],
                yAxes: [{
                    gridLines: {
                        display: false
                    },

                }]
        }
    }
    });
</script>

<script>
    var ctx = document.getElementById('myChart1').getContext('2d');
    var chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: <%-JSON.stringify(state); %> ,
        datasets: [{
            label: 'State Wise Data',
            backgroundColor: "orange",
            borderColor: "white",
            data: <%-JSON.stringify(scase); %> ,
            }]
        },
    options: {
        responsive: true,
            maintainAspectRatio: false,
                scales: {
            xAxes: [{
                gridLines: {
                    display: false
                }
            }],
                yAxes: [{
                    gridLines: {
                        display: false
                    },

                }]
        }
    }
    });
</script>

<script>
    var ctx = document.getElementById('myChart2').getContext('2d');
    var chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Migrated', 'Active', 'Deaths', 'Recovered'],
            datasets: [{
                label: '',
                data: [ <%=1%> , <%=p.statewise[0].active%> , <%=p.statewise[0].deaths%> , <%=p.statewise[0].recovered%>
                ],
            backgroundColor: [
                "#FFC107",
                "#007BFF",
                "#DC3545",
                "#17A2BB",
                "#6C757D"
            ],
        }]
    },
        options: {
        responsive: true,
        maintainAspectRatio: false,
    },
    });
</script>
<br>
<div class="tableFixHead">
    <table style="width: 100%; margin-left: auto; margin-right: auto;"
        class="table table-bordered table-striped table-hover table-warning  animated animatedFadeInUp fadeInUp">
        <thead class="thead-dark sticky">
            <tr class="tableFixHead">
                <th scope="col ">State</th>
                <th scope="col ">Active</th>
                <th scope="col ">Confirmed</th>
                <th scope="col ">Death</th>
                <th scope="col ">Recovered</th>
                <th scope="col ">State Code</th>
            </tr>
        </thead>
        <tbody>
            <%Object.keys(p.statewise).forEach(function(key) {%>
            <tr>
                <% if(p.statewise[key].state=="Unknown"){%>
                <%}else{%>
                <th scope="row"><%=p.statewise[key].state%></th>
                <%}%>
                <%Object.keys(p.statewise[key]).forEach(function(key1) {%>
                <%if(key1==="active"){%>
                <td><span class="badge badge-primary"> <%=p.statewise[key][key1]%></span></td>
                <%}%>
                <%if(key1==="confirmed"){%>
                <td><span class="badge badge-warning"> <%=p.statewise[key][key1]%></span></td>
                <%}%>
                <%if(key1==="deaths"){%>
                <td><span class="badge badge-danger"> <%=p.statewise[key][key1]%></span></td>
                <%}%>
                <%if(key1==="recovered"){%>
                <td><span class="badge badge-info"> <%=p.statewise[key][key1]%></span></td>
                <%}%>
                <%if(key1==="statecode"){%>
                <td><span class="badge badge-secondary"> <%=p.statewise[key][key1]%></span></td>
                <%}%>
        <%})%>
            </tr>
            <%})%>

        </tbody>
    </table>
</div>
<%- include('partials/footer.ejs'); -%>